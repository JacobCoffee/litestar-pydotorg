{% macro version_selector(versions, current_version='', base_url='') %}
<div class="dropdown dropdown-hover">
  <div tabindex="0" role="button" class="btn btn-outline gap-2">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
    </svg>
    <span>{% if current_version %}Version {{ current_version }}{% else %}Select Version{% endif %}</span>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </div>
  <ul tabindex="0" class="dropdown-content z-50 menu p-2 shadow-xl bg-base-100 rounded-box w-52 max-h-96 overflow-y-auto">
    {% for version in versions %}
    <li>
      <a
        href="{{ base_url }}{{ version.slug }}"
        class="{% if version.version == current_version %}active{% endif %} flex justify-between"
      >
        <span>{{ version.version }}</span>
        {% if version.is_latest %}
        <span class="badge badge-primary badge-sm">Latest</span>
        {% elif version.is_prerelease %}
        <span class="badge badge-warning badge-sm">Pre-release</span>
        {% elif version.is_deprecated %}
        <span class="badge badge-ghost badge-sm">EOL</span>
        {% endif %}
      </a>
    </li>
    {% endfor %}
  </ul>
</div>
{% endmacro %}

{% macro version_tabs(versions, current_version='') %}
<div role="tablist" class="tabs tabs-lifted tabs-lg">
  {% for version in versions %}
  <input
    type="radio"
    name="version_tabs"
    role="tab"
    class="tab"
    aria-label="Python {{ version.version }}"
    {% if version.version == current_version %}checked{% endif %}
    onclick="window.location.href='{{ version.url }}'"
  />
  <div role="tabpanel" class="tab-content bg-base-100 border-base-300 rounded-box p-6">
    <h3 class="text-xl font-bold mb-2">Python {{ version.version }}</h3>
    {% if version.release_date %}
    <p class="text-sm text-base-content/60 mb-4">Released: {{ version.release_date }}</p>
    {% endif %}
    <p>{{ version.description }}</p>
  </div>
  {% endfor %}
</div>
{% endmacro %}

{% macro version_badge(version, is_latest=False, is_prerelease=False, is_deprecated=False) %}
<span class="inline-flex items-center gap-2">
  <span class="font-mono font-semibold text-python-blue">{{ version }}</span>
  {% if is_latest %}
  <span class="badge badge-success badge-sm">Latest</span>
  {% elif is_prerelease %}
  <span class="badge badge-warning badge-sm">Pre-release</span>
  {% elif is_deprecated %}
  <span class="badge badge-error badge-sm">EOL</span>
  {% endif %}
</span>
{% endmacro %}
