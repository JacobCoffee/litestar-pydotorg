<!DOCTYPE html>
<html lang="en" data-accent-color="blue" data-content_root="../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Database Schema Design - litestar-pydotorg</title><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Domain Models Reference" href="DOMAIN_MODELS.html" /><link rel="prev" title="Litestar Python.org Architecture" href="ARCHITECTURE.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=e1a1ceaf" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=14737038" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=513f0650" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Database Schema Design"/>
    <meta name="twitter:card" content="summary"/>
  </head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="../index.html">
      
      
      <strong>litestar-pydotorg</strong>
    </a>
    <div class="sy-head-nav" id="head-nav">
      <nav class="sy-head-links"><ul><li class="link">
          <a href="https://litestar.dev/">
            <span>Litestar</span></a>
        </li><li class="link">
          <a href="https://python.org/">
            <span>Python.org</span></a>
        </li></ul></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><div class="sy-head-socials">
  <a href="https://github.com/JacobCoffee/litestar-pydotorg" aria-label="GitHub">
    <iconify-icon icon="simple-icons:github"></iconify-icon>
  </a></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="head-nav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2"></span>
          <span class="hamburger_3"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><p class="caption" role="heading" aria-level="3"><span class="caption-text">Learn</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/quickstart.html">Quickstart</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../guides/development.html">Development Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/contributing.html">Contribution Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/testing.html">Testing Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/debugging.html">Debugging Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/api-usage.html">API Usage Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/authentication.html">Authentication Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/feature-flags.html">Feature Flags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/configuration.html">Configuration Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/deployment.html">Deployment Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/docker.html">Docker Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/troubleshooting.html">Troubleshooting Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/index.html">Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/domain-patterns.html">Domain Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/authentication-recipes.html">Authentication Recipes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/database-recipes.html">Database Recipes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/testing-recipes.html">Testing Recipes</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/core/index.html">Core Infrastructure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/core/auth.html">Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/cache.html">Caching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/database.html">Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/email.html">Email</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/exceptions.html">Exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/features.html">Feature Flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/feeds.html">RSS/Atom Feeds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/ical.html">iCalendar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/logging.html">Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/middleware.html">Middleware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/openapi.html">OpenAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/ratelimit.html">Rate Limiting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/search.html">Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/security.html">Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/core/worker.html">Background Worker</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/domains/index.html">Domain Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/about.html">About</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/admin.html">Admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/banners.html">banners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/blogs.html">blogs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/codesamples.html">Code Samples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/community.html">community</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/docs.html">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/downloads.html">downloads</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/events.html">events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/jobs.html">jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/mailing.html">Mailing Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/minutes.html">Minutes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/nominations.html">Nominations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/pages.html">pages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/search.html">Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/sponsors.html">sponsors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/sqladmin.html">SQLAdmin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/successstories.html">Success Stories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/users.html">users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/domains/work_groups.html">Work Groups</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/lib.html">Library Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/tasks.html">Background Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/config.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/main.html">Application Entry Point</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Architecture</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ARCHITECTURE.html">Litestar Python.org Architecture</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Database Schema Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="DOMAIN_MODELS.html">Domain Models Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="QUICK_START.html">Litestar Python.org Quick Start Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="API_TAGS_INDEX.html">API Tags Documentation Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="RATE_LIMITING_ARCHITECTURE.html">Rate Limiting Architecture Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/001-litestar-framework.html">ADR-001: Use Litestar as Web Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/002-saq-background-tasks.html">ADR-002: Use SAQ for Background Task Processing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/JacobCoffee/litestar-pydotorg">GitHub</a></li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#schema-diagram">Schema Diagram</a></li>
<li><a class="reference internal" href="#core-tables">Core Tables</a><ul>
<li><a class="reference internal" href="#users">users</a></li>
<li><a class="reference internal" href="#memberships">memberships</a></li>
<li><a class="reference internal" href="#pages">pages</a></li>
<li><a class="reference internal" href="#releases">releases</a></li>
<li><a class="reference internal" href="#release-files">release_files</a></li>
<li><a class="reference internal" href="#events">events</a></li>
<li><a class="reference internal" href="#jobs">jobs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#association-tables">Association Tables</a><ul>
<li><a class="reference internal" href="#event-category-associations">event_category_associations</a></li>
<li><a class="reference internal" href="#job-type-associations">job_type_associations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#migration-notes">Migration Notes</a><ul>
<li><a class="reference internal" href="#django-to-sqlalchemy-field-mapping">Django to SQLAlchemy Field Mapping</a></li>
<li><a class="reference internal" href="#default-value-migration">Default Value Migration</a></li>
<li><a class="reference internal" href="#index-migration">Index Migration</a></li>
<li><a class="reference internal" href="#unique-constraint-migration">Unique Constraint Migration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#schema-evolution-strategy">Schema Evolution Strategy</a><ul>
<li><a class="reference internal" href="#phase-1-core-tables">Phase 1: Core Tables</a></li>
<li><a class="reference internal" href="#phase-2-content-tables">Phase 2: Content Tables</a></li>
<li><a class="reference internal" href="#phase-3-feature-tables">Phase 3: Feature Tables</a></li>
<li><a class="reference internal" href="#phase-4-community-tables">Phase 4: Community Tables</a></li>
<li><a class="reference internal" href="#phase-5-organization-tables">Phase 5: Organization Tables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#performance-optimization">Performance Optimization</a><ul>
<li><a class="reference internal" href="#strategic-indexes">Strategic Indexes</a></li>
<li><a class="reference internal" href="#query-patterns">Query Patterns</a></li>
</ul>
</li>
</ul>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
<div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">litestar-pydotorg</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="index.html"><span itemprop="name">Architecture</span></a>
        <span>/</span>
        <meta itemprop="position" content="2" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">Database Schema Design</strong>
        <meta itemprop="position" content="3" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue dark-code" role="main">
          <section id="database-schema-design">
<h1>Database Schema Design<a class="headerlink" href="#database-schema-design" title="Link to this heading">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>This document provides detailed database schema design for the Litestar <a class="reference external" href="http://python.org">python.org</a> migration, mapping Django models to SQLAlchemy 2.0 async models.</p>
</section>
<section id="schema-diagram">
<h2>Schema Diagram<a class="headerlink" href="#schema-diagram" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">┌─────────────────┐
</span><span data-line="2">│     users       │──┐
</span><span data-line="3">│─────────────────│  │
</span><span data-line="4">│ id (PK)         │  │
</span><span data-line="5">│ username (UQ)   │  │
</span><span data-line="6">│ email (UQ)      │  │
</span><span data-line="7">│ password_hash   │  │
</span><span data-line="8">│ is_active       │  │
</span><span data-line="9">│ is_staff        │  │
</span><span data-line="10">└─────────────────┘  │
</span><span data-line="11">                     │
</span><span data-line="12">        ┌────────────┼──────────────┬──────────────┐
</span><span data-line="13">        │            │              │              │
</span><span data-line="14">┌───────▼────────┐  │   ┌──────────▼──────┐  ┌───▼──────────┐
</span><span data-line="15">│  memberships   │  │   │     pages       │  │   events     │
</span><span data-line="16">│────────────────│  │   │─────────────────│  │──────────────│
</span><span data-line="17">│ id (PK)        │  │   │ id (PK)         │  │ id (PK)      │
</span><span data-line="18">│ creator_id(FK)─┘  │   │ title           │  │ title        │
</span><span data-line="19">│ membership_type│  │   │ path (UQ)       │  │ calendar_id  │
</span><span data-line="20">│ legal_name     │  │   │ content         │  │ venue_id     │
</span><span data-line="21">└────────────────┘  │   │ is_published    │  │ description  │
</span><span data-line="22">                    │   │ creator_id (FK)─┘  │ featured     │
</span><span data-line="23">                    │   └─────────────────┘  └──────────────┘
</span><span data-line="24">                    │
</span><span data-line="25">        ┌───────────┼────────────┬─────────────┐
</span><span data-line="26">        │           │            │             │
</span><span data-line="27">┌───────▼─────┐  ┌─▼──────────┐ │  ┌──────────▼─────┐
</span><span data-line="28">│    jobs     │  │  releases  │ │  │   calendars    │
</span><span data-line="29">│─────────────│  │────────────│ │  │────────────────│
</span><span data-line="30">│ id (PK)     │  │ id (PK)    │ │  │ id (PK)        │
</span><span data-line="31">│ job_title   │  │ name       │ │  │ name           │
</span><span data-line="32">│ company_name│  │ slug (UQ)  │ │  │ slug (UQ)      │
</span><span data-line="33">│ category_id │  │ version    │ │  │ url            │
</span><span data-line="34">│ status      │  │ is_latest  │ │  │ creator_id(FK)─┘
</span><span data-line="35">│creator_id   │  │is_published│ │  └────────────────┘
</span><span data-line="36">└─────────────┘  └────────────┘ │
</span><span data-line="37">                                │
</span><span data-line="38">                     ┌──────────┴──────────┐
</span><span data-line="39">                     │                     │
</span><span data-line="40">              ┌──────▼──────┐      ┌──────▼────────┐
</span><span data-line="41">              │release_files│      │ operating_    │
</span><span data-line="42">              │─────────────│      │  systems      │
</span><span data-line="43">              │ id (PK)     │      │───────────────│
</span><span data-line="44">              │ release_id  │──┐   │ id (PK)       │
</span><span data-line="45">              │ os_id       │──┼───│ name          │
</span><span data-line="46">              │ url (UQ)    │  │   │ slug (UQ)     │
</span><span data-line="47">              │download_btn │  │   └───────────────┘
</span><span data-line="48">              └─────────────┘  │
</span><span data-line="49">                               └───(Many-to-One)
</span></pre></div>
</div>
</section>
<section id="core-tables">
<h2>Core Tables<a class="headerlink" href="#core-tables" title="Link to this heading">¶</a></h2>
<section id="users">
<h3>users<a class="headerlink" href="#users" title="Link to this heading">¶</a></h3>
<p><strong>Purpose</strong>: User authentication and profile management</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Constraints</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>INTEGER</p></td>
<td><p>PRIMARY KEY</p></td>
<td><p>Auto-increment</p></td>
</tr>
<tr class="row-odd"><td><p>username</p></td>
<td><p>VARCHAR(150)</p></td>
<td><p>UNIQUE, NOT NULL, INDEX</p></td>
<td><p>Case-insensitive lookup</p></td>
</tr>
<tr class="row-even"><td><p>email</p></td>
<td><p>VARCHAR(254)</p></td>
<td><p>UNIQUE, NOT NULL, INDEX</p></td>
<td><p>Email validation</p></td>
</tr>
<tr class="row-odd"><td><p>password_hash</p></td>
<td><p>VARCHAR(255)</p></td>
<td><p>NOT NULL</p></td>
<td><p>Argon2 or bcrypt hash</p></td>
</tr>
<tr class="row-even"><td><p>first_name</p></td>
<td><p>VARCHAR(150)</p></td>
<td><p>NULL</p></td>
<td><p>Optional</p></td>
</tr>
<tr class="row-odd"><td><p>last_name</p></td>
<td><p>VARCHAR(150)</p></td>
<td><p>NULL</p></td>
<td><p>Optional</p></td>
</tr>
<tr class="row-even"><td><p>is_active</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT TRUE</p></td>
<td><p>Account status</p></td>
</tr>
<tr class="row-odd"><td><p>is_staff</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT FALSE</p></td>
<td><p>Admin access</p></td>
</tr>
<tr class="row-even"><td><p>is_superuser</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT FALSE</p></td>
<td><p>Full privileges</p></td>
</tr>
<tr class="row-odd"><td><p>bio</p></td>
<td><p>TEXT</p></td>
<td><p>NULL</p></td>
<td><p>Markdown content</p></td>
</tr>
<tr class="row-even"><td><p>bio_markup_type</p></td>
<td><p>VARCHAR(30)</p></td>
<td><p>DEFAULT ‘markdown’</p></td>
<td><p>Markup format</p></td>
</tr>
<tr class="row-odd"><td><p>search_visibility</p></td>
<td><p>INTEGER</p></td>
<td><p>DEFAULT 1</p></td>
<td><p>0=private, 1=public</p></td>
</tr>
<tr class="row-even"><td><p>email_privacy</p></td>
<td><p>INTEGER</p></td>
<td><p>DEFAULT 2</p></td>
<td><p>0=public, 1=logged-in, 2=never</p></td>
</tr>
<tr class="row-odd"><td><p>public_profile</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT TRUE</p></td>
<td><p>Profile visibility</p></td>
</tr>
<tr class="row-even"><td><p>created</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW(), INDEX</p></td>
<td><p>Creation time</p></td>
</tr>
<tr class="row-odd"><td><p>updated</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW()</p></td>
<td><p>Last update</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Indexes</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ix_users_username</span></code> (username)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ix_users_email</span></code> (email)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ix_users_created</span></code> (created)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ix_users_active</span></code> (is_active) WHERE is_active = TRUE</p></li>
</ul>
<p><strong>SQLAlchemy Model</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">Boolean</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">DateTime</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy.orm</span><span class="w"> </span><span class="kn">import</span> <span class="n">Mapped</span><span class="p">,</span> <span class="n">mapped_column</span>
</span><span data-line="3">
</span><span data-line="4"><span class="k">class</span><span class="w"> </span><span class="nc">User</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
</span><span data-line="5">    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;users&quot;</span>
</span><span data-line="6">
</span><span data-line="7">    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span data-line="8">    <span class="n">username</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">150</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span data-line="9">    <span class="n">email</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">254</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span data-line="10">    <span class="n">password_hash</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">255</span><span class="p">))</span>
</span><span data-line="11">
</span><span data-line="12">    <span class="n">first_name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">150</span><span class="p">))</span>
</span><span data-line="13">    <span class="n">last_name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">150</span><span class="p">))</span>
</span><span data-line="14">
</span><span data-line="15">    <span class="n">is_active</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span data-line="16">    <span class="n">is_staff</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span data-line="17">    <span class="n">is_superuser</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span data-line="18">
</span><span data-line="19">    <span class="n">bio</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Text</span><span class="p">)</span>
</span><span data-line="20">    <span class="n">bio_markup_type</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;markdown&quot;</span><span class="p">)</span>
</span><span data-line="21">
</span><span data-line="22">    <span class="n">search_visibility</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span data-line="23">    <span class="n">email_privacy</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span data-line="24">    <span class="n">public_profile</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span data-line="25">
</span><span data-line="26">    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span>
</span><span data-line="27">        <span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span data-line="28">        <span class="n">server_default</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
</span><span data-line="29">        <span class="n">index</span><span class="o">=</span><span class="kc">True</span>
</span><span data-line="30">    <span class="p">)</span>
</span><span data-line="31">    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span>
</span><span data-line="32">        <span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span data-line="33">        <span class="n">server_default</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
</span><span data-line="34">        <span class="n">onupdate</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span data-line="35">    <span class="p">)</span>
</span><span data-line="36">
</span><span data-line="37">    <span class="n">membership</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="s2">&quot;Membership | None&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;creator&quot;</span><span class="p">)</span>
</span><span data-line="38">
</span><span data-line="39">    <span class="n">__table_args__</span> <span class="o">=</span> <span class="p">(</span>
</span><span data-line="40">        <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;ix_users_active&#39;</span><span class="p">,</span> <span class="s1">&#39;is_active&#39;</span><span class="p">,</span> <span class="n">postgresql_where</span><span class="o">=</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;is_active = TRUE&#39;</span><span class="p">)),</span>
</span><span data-line="41">    <span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="memberships">
<h3>memberships<a class="headerlink" href="#memberships" title="Link to this heading">¶</a></h3>
<p><strong>Purpose</strong>: PSF membership information</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Constraints</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>INTEGER</p></td>
<td><p>PRIMARY KEY</p></td>
<td><p>Auto-increment</p></td>
</tr>
<tr class="row-odd"><td><p>creator_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://users.id">users.id</a>), UNIQUE</p></td>
<td><p>One-to-one with user</p></td>
</tr>
<tr class="row-even"><td><p>membership_type</p></td>
<td><p>INTEGER</p></td>
<td><p>DEFAULT 0</p></td>
<td><p>0-5 membership levels</p></td>
</tr>
<tr class="row-odd"><td><p>legal_name</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NOT NULL</p></td>
<td><p>Full legal name</p></td>
</tr>
<tr class="row-even"><td><p>preferred_name</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NOT NULL</p></td>
<td><p>Display name</p></td>
</tr>
<tr class="row-odd"><td><p>email_address</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NOT NULL</p></td>
<td><p>Contact email</p></td>
</tr>
<tr class="row-even"><td><p>city</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NULL</p></td>
<td><p>Location</p></td>
</tr>
<tr class="row-odd"><td><p>region</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NULL</p></td>
<td><p>State/province</p></td>
</tr>
<tr class="row-even"><td><p>country</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NULL</p></td>
<td><p>Country</p></td>
</tr>
<tr class="row-odd"><td><p>postal_code</p></td>
<td><p>VARCHAR(20)</p></td>
<td><p>NULL</p></td>
<td><p>ZIP/postal code</p></td>
</tr>
<tr class="row-even"><td><p>psf_code_of_conduct</p></td>
<td><p>BOOLEAN</p></td>
<td><p>NULL</p></td>
<td><p>CoC agreement</p></td>
</tr>
<tr class="row-odd"><td><p>psf_announcements</p></td>
<td><p>BOOLEAN</p></td>
<td><p>NULL</p></td>
<td><p>Newsletter opt-in</p></td>
</tr>
<tr class="row-even"><td><p>votes</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT FALSE</p></td>
<td><p>Voting member</p></td>
</tr>
<tr class="row-odd"><td><p>last_vote_affirmation</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>NULL</p></td>
<td><p>Last voting confirmation</p></td>
</tr>
<tr class="row-even"><td><p>created</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>updated</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Constraints</strong>:</p>
<ul class="simple">
<li><p>FOREIGN KEY (creator_id) REFERENCES users(id) ON DELETE CASCADE</p></li>
<li><p>UNIQUE (creator_id)</p></li>
</ul>
</section>
<section id="pages">
<h3>pages<a class="headerlink" href="#pages" title="Link to this heading">¶</a></h3>
<p><strong>Purpose</strong>: CMS flat pages</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Constraints</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>INTEGER</p></td>
<td><p>PRIMARY KEY</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>title</p></td>
<td><p>VARCHAR(500)</p></td>
<td><p>NOT NULL</p></td>
<td><p>Page title</p></td>
</tr>
<tr class="row-even"><td><p>keywords</p></td>
<td><p>VARCHAR(1000)</p></td>
<td><p>NULL</p></td>
<td><p>SEO meta keywords</p></td>
</tr>
<tr class="row-odd"><td><p>description</p></td>
<td><p>TEXT</p></td>
<td><p>NULL</p></td>
<td><p>SEO meta description</p></td>
</tr>
<tr class="row-even"><td><p>path</p></td>
<td><p>VARCHAR(500)</p></td>
<td><p>UNIQUE, NOT NULL, INDEX</p></td>
<td><p>URL path</p></td>
</tr>
<tr class="row-odd"><td><p>content</p></td>
<td><p>TEXT</p></td>
<td><p>NOT NULL</p></td>
<td><p>Page content</p></td>
</tr>
<tr class="row-even"><td><p>content_markup_type</p></td>
<td><p>VARCHAR(30)</p></td>
<td><p>DEFAULT ‘rst’</p></td>
<td><p>restructuredtext/markdown</p></td>
</tr>
<tr class="row-odd"><td><p>is_published</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT TRUE, INDEX</p></td>
<td><p>Publication status</p></td>
</tr>
<tr class="row-even"><td><p>content_type</p></td>
<td><p>VARCHAR(150)</p></td>
<td><p>DEFAULT ‘text/html’</p></td>
<td><p>MIME type</p></td>
</tr>
<tr class="row-odd"><td><p>template_name</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NULL</p></td>
<td><p>Custom template</p></td>
</tr>
<tr class="row-even"><td><p>creator_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://users.id">users.id</a>), NULL</p></td>
<td><p>Content creator</p></td>
</tr>
<tr class="row-odd"><td><p>last_modified_by_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://users.id">users.id</a>), NULL</p></td>
<td><p>Last editor</p></td>
</tr>
<tr class="row-even"><td><p>created</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW(), INDEX</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>updated</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Indexes</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ix_pages_path</span></code> (path)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ix_pages_published</span></code> (is_published)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ix_pages_path_published</span></code> (path, is_published)</p></li>
</ul>
</section>
<section id="releases">
<h3>releases<a class="headerlink" href="#releases" title="Link to this heading">¶</a></h3>
<p><strong>Purpose</strong>: Python release versions</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Constraints</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>INTEGER</p></td>
<td><p>PRIMARY KEY</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>VARCHAR(200)</p></td>
<td><p>NOT NULL</p></td>
<td><p>e.g., “Python 3.12.0”</p></td>
</tr>
<tr class="row-even"><td><p>slug</p></td>
<td><p>VARCHAR(200)</p></td>
<td><p>UNIQUE, NOT NULL</p></td>
<td><p>URL-safe identifier</p></td>
</tr>
<tr class="row-odd"><td><p>version</p></td>
<td><p>INTEGER</p></td>
<td><p>DEFAULT 3</p></td>
<td><p>1=Python 1.x, 2=2.x, 3=3.x, 100=manager</p></td>
</tr>
<tr class="row-even"><td><p>is_latest</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT FALSE, INDEX</p></td>
<td><p>Latest in version</p></td>
</tr>
<tr class="row-odd"><td><p>is_published</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT FALSE, INDEX</p></td>
<td><p>Published status</p></td>
</tr>
<tr class="row-even"><td><p>pre_release</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT FALSE, INDEX</p></td>
<td><p>Beta/RC flag</p></td>
</tr>
<tr class="row-odd"><td><p>show_on_download_page</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT TRUE, INDEX</p></td>
<td><p>Visibility</p></td>
</tr>
<tr class="row-even"><td><p>release_date</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>NOT NULL</p></td>
<td><p>Release date</p></td>
</tr>
<tr class="row-odd"><td><p>release_page_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://pages.id">pages.id</a>), NULL</p></td>
<td><p>Related page</p></td>
</tr>
<tr class="row-even"><td><p>release_notes_url</p></td>
<td><p>VARCHAR(200)</p></td>
<td><p>NULL</p></td>
<td><p>External notes URL</p></td>
</tr>
<tr class="row-odd"><td><p>content</p></td>
<td><p>TEXT</p></td>
<td><p>DEFAULT ‘’</p></td>
<td><p>Release content</p></td>
</tr>
<tr class="row-even"><td><p>content_markup_type</p></td>
<td><p>VARCHAR(30)</p></td>
<td><p>DEFAULT ‘markdown’</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>creator_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://users.id">users.id</a>), NULL</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>created</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>updated</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Indexes</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ix_releases_version_latest</span></code> (version, is_latest)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ix_releases_published</span></code> (is_published)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ix_releases_show_on_download</span></code> (show_on_download_page)</p></li>
</ul>
</section>
<section id="release-files">
<h3>release_files<a class="headerlink" href="#release-files" title="Link to this heading">¶</a></h3>
<p><strong>Purpose</strong>: Downloadable release files</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Constraints</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>INTEGER</p></td>
<td><p>PRIMARY KEY</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>VARCHAR(200)</p></td>
<td><p>NOT NULL</p></td>
<td><p>File description</p></td>
</tr>
<tr class="row-even"><td><p>slug</p></td>
<td><p>VARCHAR(200)</p></td>
<td><p>UNIQUE, NOT NULL</p></td>
<td><p>URL identifier</p></td>
</tr>
<tr class="row-odd"><td><p>os_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(operating_systems.id), NOT NULL</p></td>
<td><p>Target OS</p></td>
</tr>
<tr class="row-even"><td><p>release_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://releases.id">releases.id</a>), NOT NULL</p></td>
<td><p>Parent release</p></td>
</tr>
<tr class="row-odd"><td><p>description</p></td>
<td><p>TEXT</p></td>
<td><p>NULL</p></td>
<td><p>File description</p></td>
</tr>
<tr class="row-even"><td><p>is_source</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT FALSE</p></td>
<td><p>Source distribution</p></td>
</tr>
<tr class="row-odd"><td><p>url</p></td>
<td><p>VARCHAR(500)</p></td>
<td><p>UNIQUE, NOT NULL, INDEX</p></td>
<td><p>Download URL</p></td>
</tr>
<tr class="row-even"><td><p>gpg_signature_file</p></td>
<td><p>VARCHAR(500)</p></td>
<td><p>NULL</p></td>
<td><p>GPG signature URL</p></td>
</tr>
<tr class="row-odd"><td><p>sigstore_signature_file</p></td>
<td><p>VARCHAR(500)</p></td>
<td><p>NULL</p></td>
<td><p>Sigstore signature</p></td>
</tr>
<tr class="row-even"><td><p>sigstore_cert_file</p></td>
<td><p>VARCHAR(500)</p></td>
<td><p>NULL</p></td>
<td><p>Sigstore cert</p></td>
</tr>
<tr class="row-odd"><td><p>sigstore_bundle_file</p></td>
<td><p>VARCHAR(500)</p></td>
<td><p>NULL</p></td>
<td><p>Sigstore bundle</p></td>
</tr>
<tr class="row-even"><td><p>sbom_spdx2_file</p></td>
<td><p>VARCHAR(500)</p></td>
<td><p>NULL</p></td>
<td><p>SBOM file</p></td>
</tr>
<tr class="row-odd"><td><p>md5_sum</p></td>
<td><p>VARCHAR(200)</p></td>
<td><p>NULL</p></td>
<td><p>MD5 checksum</p></td>
</tr>
<tr class="row-even"><td><p>filesize</p></td>
<td><p>INTEGER</p></td>
<td><p>DEFAULT 0</p></td>
<td><p>File size in bytes</p></td>
</tr>
<tr class="row-odd"><td><p>download_button</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT FALSE</p></td>
<td><p>Show in download button</p></td>
</tr>
<tr class="row-even"><td><p>creator_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://users.id">users.id</a>), NULL</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>created</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>updated</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Constraints</strong>:</p>
<ul class="simple">
<li><p>UNIQUE (os_id, release_id) WHERE download_button = TRUE</p></li>
<li><p>Only one download_button per OS per release</p></li>
</ul>
</section>
<section id="events">
<h3>events<a class="headerlink" href="#events" title="Link to this heading">¶</a></h3>
<p><strong>Purpose</strong>: Community events</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Constraints</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>INTEGER</p></td>
<td><p>PRIMARY KEY</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>uid</p></td>
<td><p>VARCHAR(200)</p></td>
<td><p>NULL</p></td>
<td><p>iCal UID</p></td>
</tr>
<tr class="row-even"><td><p>title</p></td>
<td><p>VARCHAR(200)</p></td>
<td><p>NOT NULL</p></td>
<td><p>Event title</p></td>
</tr>
<tr class="row-odd"><td><p>calendar_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://calendars.id">calendars.id</a>), NOT NULL</p></td>
<td><p>Parent calendar</p></td>
</tr>
<tr class="row-even"><td><p>venue_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(event_locations.id), NULL</p></td>
<td><p>Event location</p></td>
</tr>
<tr class="row-odd"><td><p>description</p></td>
<td><p>TEXT</p></td>
<td><p>NOT NULL</p></td>
<td><p>Event description</p></td>
</tr>
<tr class="row-even"><td><p>description_markup_type</p></td>
<td><p>VARCHAR(30)</p></td>
<td><p>DEFAULT ‘rst’</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>featured</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT FALSE, INDEX</p></td>
<td><p>Featured status</p></td>
</tr>
<tr class="row-even"><td><p>creator_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://users.id">users.id</a>), NULL</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>created</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>updated</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Relations</strong>:</p>
<ul class="simple">
<li><p>One-to-One with OccurringRule (single occurrence)</p></li>
<li><p>One-to-Many with RecurringRule (recurring events)</p></li>
<li><p>Many-to-Many with EventCategory</p></li>
</ul>
</section>
<section id="jobs">
<h3>jobs<a class="headerlink" href="#jobs" title="Link to this heading">¶</a></h3>
<p><strong>Purpose</strong>: Job board listings</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Constraints</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>INTEGER</p></td>
<td><p>PRIMARY KEY</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>category_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(job_categories.id), NOT NULL</p></td>
<td><p>Job category</p></td>
</tr>
<tr class="row-even"><td><p>other_job_type</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NULL</p></td>
<td><p>Custom type</p></td>
</tr>
<tr class="row-odd"><td><p>company_name</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NOT NULL</p></td>
<td><p>Employer</p></td>
</tr>
<tr class="row-even"><td><p>company_description</p></td>
<td><p>TEXT</p></td>
<td><p>NULL</p></td>
<td><p>Company info</p></td>
</tr>
<tr class="row-odd"><td><p>company_description_markup_type</p></td>
<td><p>VARCHAR(30)</p></td>
<td><p>DEFAULT ‘rst’</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>job_title</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NOT NULL</p></td>
<td><p>Position title</p></td>
</tr>
<tr class="row-odd"><td><p>city</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NOT NULL</p></td>
<td><p>Location city</p></td>
</tr>
<tr class="row-even"><td><p>region</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NULL</p></td>
<td><p>State/province</p></td>
</tr>
<tr class="row-odd"><td><p>country</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NOT NULL, INDEX</p></td>
<td><p>Country</p></td>
</tr>
<tr class="row-even"><td><p>location_slug</p></td>
<td><p>VARCHAR(350)</p></td>
<td><p></p></td>
<td><p>Generated slug</p></td>
</tr>
<tr class="row-odd"><td><p>country_slug</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p></p></td>
<td><p>Generated slug</p></td>
</tr>
<tr class="row-even"><td><p>description</p></td>
<td><p>TEXT</p></td>
<td><p>NOT NULL</p></td>
<td><p>Job description</p></td>
</tr>
<tr class="row-odd"><td><p>description_markup_type</p></td>
<td><p>VARCHAR(30)</p></td>
<td><p>DEFAULT ‘rst’</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>requirements</p></td>
<td><p>TEXT</p></td>
<td><p>NOT NULL</p></td>
<td><p>Job requirements</p></td>
</tr>
<tr class="row-odd"><td><p>requirements_markup_type</p></td>
<td><p>VARCHAR(30)</p></td>
<td><p>DEFAULT ‘rst’</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>contact</p></td>
<td><p>VARCHAR(100)</p></td>
<td><p>NULL</p></td>
<td><p>Contact name</p></td>
</tr>
<tr class="row-odd"><td><p>email</p></td>
<td><p>VARCHAR(254)</p></td>
<td><p>NOT NULL</p></td>
<td><p>Contact email</p></td>
</tr>
<tr class="row-even"><td><p>url</p></td>
<td><p>VARCHAR(500)</p></td>
<td><p>NOT NULL</p></td>
<td><p>Job URL</p></td>
</tr>
<tr class="row-odd"><td><p>submitted_by_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://users.id">users.id</a>), NULL</p></td>
<td><p>Submitter</p></td>
</tr>
<tr class="row-even"><td><p>status</p></td>
<td><p>VARCHAR(20)</p></td>
<td><p>DEFAULT ‘review’, INDEX</p></td>
<td><p>Job status</p></td>
</tr>
<tr class="row-odd"><td><p>expires</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>NULL</p></td>
<td><p>Expiration date</p></td>
</tr>
<tr class="row-even"><td><p>telecommuting</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT FALSE</p></td>
<td><p>Remote allowed</p></td>
</tr>
<tr class="row-odd"><td><p>agencies</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT TRUE</p></td>
<td><p>Agencies OK</p></td>
</tr>
<tr class="row-even"><td><p>is_featured</p></td>
<td><p>BOOLEAN</p></td>
<td><p>DEFAULT FALSE, INDEX</p></td>
<td><p>Featured job</p></td>
</tr>
<tr class="row-odd"><td><p>creator_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://users.id">users.id</a>), NULL</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>created</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW(), INDEX</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>updated</p></td>
<td><p>TIMESTAMP TZ</p></td>
<td><p>DEFAULT NOW()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Status Values</strong>:</p>
<ul class="simple">
<li><p>draft</p></li>
<li><p>review</p></li>
<li><p>approved</p></li>
<li><p>rejected</p></li>
<li><p>archived</p></li>
<li><p>removed</p></li>
<li><p>expired</p></li>
</ul>
<p><strong>Indexes</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ix_jobs_status</span></code> (status)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ix_jobs_country</span></code> (country)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ix_jobs_featured</span></code> (is_featured)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ix_jobs_created</span></code> (created DESC)</p></li>
</ul>
</section>
</section>
<section id="association-tables">
<h2>Association Tables<a class="headerlink" href="#association-tables" title="Link to this heading">¶</a></h2>
<section id="event-category-associations">
<h3>event_category_associations<a class="headerlink" href="#event-category-associations" title="Link to this heading">¶</a></h3>
<p><strong>Purpose</strong>: Many-to-many events to categories</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Constraints</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>event_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://events.id">events.id</a>), PRIMARY KEY</p></td>
</tr>
<tr class="row-odd"><td><p>category_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(event_categories.id), PRIMARY KEY</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="job-type-associations">
<h3>job_type_associations<a class="headerlink" href="#job-type-associations" title="Link to this heading">¶</a></h3>
<p><strong>Purpose</strong>: Many-to-many jobs to types</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Constraints</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>job_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(<a class="reference external" href="http://jobs.id">jobs.id</a>), PRIMARY KEY</p></td>
</tr>
<tr class="row-odd"><td><p>job_type_id</p></td>
<td><p>INTEGER</p></td>
<td><p>FK(job_types.id), PRIMARY KEY</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="migration-notes">
<h2>Migration Notes<a class="headerlink" href="#migration-notes" title="Link to this heading">¶</a></h2>
<section id="django-to-sqlalchemy-field-mapping">
<h3>Django to SQLAlchemy Field Mapping<a class="headerlink" href="#django-to-sqlalchemy-field-mapping" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Django Field</p></th>
<th class="head"><p>SQLAlchemy Type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AutoField</p></td>
<td><p>Integer, primary_key=True</p></td>
<td><p>Auto-increment</p></td>
</tr>
<tr class="row-odd"><td><p>CharField(max_length=N)</p></td>
<td><p>String(N)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>TextField</p></td>
<td><p>Text</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>BooleanField</p></td>
<td><p>Boolean</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>DateTimeField</p></td>
<td><p>DateTime(timezone=True)</p></td>
<td><p>Always use timezone-aware</p></td>
</tr>
<tr class="row-odd"><td><p>IntegerField</p></td>
<td><p>Integer</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>EmailField</p></td>
<td><p>String(254)</p></td>
<td><p>Max email length per RFC</p></td>
</tr>
<tr class="row-odd"><td><p>URLField</p></td>
<td><p>String(500)</p></td>
<td><p>Or Text for unlimited</p></td>
</tr>
<tr class="row-even"><td><p>SlugField</p></td>
<td><p>String(200)</p></td>
<td><p>With unique=True</p></td>
</tr>
<tr class="row-odd"><td><p>ForeignKey</p></td>
<td><p>ForeignKey() + relationship()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>ManyToManyField</p></td>
<td><p>Association table + relationship()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>JSONField</p></td>
<td><p>JSON</p></td>
<td><p>PostgreSQL native JSON</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="default-value-migration">
<h3>Default Value Migration<a class="headerlink" href="#default-value-migration" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Django</span>
</span><span data-line="2"><span class="n">created</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># SQLAlchemy (server-side default)</span>
</span><span data-line="5"><span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span>
</span><span data-line="6">    <span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span data-line="7">    <span class="n">server_default</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span data-line="8"><span class="p">)</span>
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># Django</span>
</span><span data-line="11"><span class="n">is_active</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span data-line="12">
</span><span data-line="13"><span class="c1"># SQLAlchemy (application default)</span>
</span><span data-line="14"><span class="n">is_active</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="index-migration">
<h3>Index Migration<a class="headerlink" href="#index-migration" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Django</span>
</span><span data-line="2"><span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
</span><span data-line="3">    <span class="n">indexes</span> <span class="o">=</span> <span class="p">[</span>
</span><span data-line="4">        <span class="n">models</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;is_published&#39;</span><span class="p">]),</span>
</span><span data-line="5">    <span class="p">]</span>
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># SQLAlchemy</span>
</span><span data-line="8"><span class="n">__table_args__</span> <span class="o">=</span> <span class="p">(</span>
</span><span data-line="9">    <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;ix_pages_path_published&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;is_published&#39;</span><span class="p">),</span>
</span><span data-line="10"><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="unique-constraint-migration">
<h3>Unique Constraint Migration<a class="headerlink" href="#unique-constraint-migration" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Django</span>
</span><span data-line="2"><span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
</span><span data-line="3">    <span class="n">constraints</span> <span class="o">=</span> <span class="p">[</span>
</span><span data-line="4">        <span class="n">models</span><span class="o">.</span><span class="n">UniqueConstraint</span><span class="p">(</span>
</span><span data-line="5">            <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;os&#39;</span><span class="p">,</span> <span class="s1">&#39;release&#39;</span><span class="p">],</span>
</span><span data-line="6">            <span class="n">condition</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">Q</span><span class="p">(</span><span class="n">download_button</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span data-line="7">            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;only_one_download_per_os_per_release&quot;</span>
</span><span data-line="8">        <span class="p">),</span>
</span><span data-line="9">    <span class="p">]</span>
</span><span data-line="10">
</span><span data-line="11"><span class="c1"># SQLAlchemy</span>
</span><span data-line="12"><span class="n">__table_args__</span> <span class="o">=</span> <span class="p">(</span>
</span><span data-line="13">    <span class="n">UniqueConstraint</span><span class="p">(</span>
</span><span data-line="14">        <span class="s1">&#39;os_id&#39;</span><span class="p">,</span> <span class="s1">&#39;release_id&#39;</span><span class="p">,</span>
</span><span data-line="15">        <span class="n">name</span><span class="o">=</span><span class="s1">&#39;uq_one_download_per_os_per_release&#39;</span><span class="p">,</span>
</span><span data-line="16">        <span class="n">postgresql_where</span><span class="o">=</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;download_button = true&#39;</span><span class="p">)</span>
</span><span data-line="17">    <span class="p">),</span>
</span><span data-line="18"><span class="p">)</span>
</span></pre></div>
</div>
</section>
</section>
<section id="schema-evolution-strategy">
<h2>Schema Evolution Strategy<a class="headerlink" href="#schema-evolution-strategy" title="Link to this heading">¶</a></h2>
<section id="phase-1-core-tables">
<h3>Phase 1: Core Tables<a class="headerlink" href="#phase-1-core-tables" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>users</p></li>
<li><p>memberships</p></li>
<li><p>auth_tokens</p></li>
<li><p>sessions</p></li>
</ol>
</section>
<section id="phase-2-content-tables">
<h3>Phase 2: Content Tables<a class="headerlink" href="#phase-2-content-tables" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>pages</p></li>
<li><p>page_images</p></li>
<li><p>page_documents</p></li>
<li><p>boxes</p></li>
</ol>
</section>
<section id="phase-3-feature-tables">
<h3>Phase 3: Feature Tables<a class="headerlink" href="#phase-3-feature-tables" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>releases</p></li>
<li><p>operating_systems</p></li>
<li><p>release_files</p></li>
<li><p>calendars</p></li>
<li><p>events</p></li>
<li><p>event_locations</p></li>
<li><p>event_categories</p></li>
</ol>
</section>
<section id="phase-4-community-tables">
<h3>Phase 4: Community Tables<a class="headerlink" href="#phase-4-community-tables" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>jobs</p></li>
<li><p>job_categories</p></li>
<li><p>job_types</p></li>
<li><p>posts (community)</p></li>
<li><p>photos</p></li>
<li><p>videos</p></li>
</ol>
</section>
<section id="phase-5-organization-tables">
<h3>Phase 5: Organization Tables<a class="headerlink" href="#phase-5-organization-tables" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>sponsors</p></li>
<li><p>sponsorships</p></li>
<li><p>benefits</p></li>
<li><p>nominations</p></li>
<li><p>minutes</p></li>
<li><p>work_groups</p></li>
</ol>
</section>
</section>
<section id="performance-optimization">
<h2>Performance Optimization<a class="headerlink" href="#performance-optimization" title="Link to this heading">¶</a></h2>
<section id="strategic-indexes">
<h3>Strategic Indexes<a class="headerlink" href="#strategic-indexes" title="Link to this heading">¶</a></h3>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1">-- High-traffic queries</span>
</span><span data-line="2"><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">ix_releases_latest</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">releases</span><span class="w"> </span><span class="p">(</span><span class="k">version</span><span class="p">,</span><span class="w"> </span><span class="n">is_latest</span><span class="p">)</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">is_published</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">TRUE</span><span class="p">;</span>
</span><span data-line="3"><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">ix_jobs_approved</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">jobs</span><span class="w"> </span><span class="p">(</span><span class="n">created</span><span class="w"> </span><span class="k">DESC</span><span class="p">)</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;approved&#39;</span><span class="p">;</span>
</span><span data-line="4"><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">ix_events_upcoming</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">featured</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">TRUE</span><span class="p">;</span>
</span><span data-line="5">
</span><span data-line="6"><span class="c1">-- Full-text search (PostgreSQL)</span>
</span><span data-line="7"><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">ix_pages_content_fts</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">pages</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="n">gin</span><span class="p">(</span><span class="n">to_tsvector</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">content</span><span class="p">));</span>
</span><span data-line="8"><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">ix_jobs_description_fts</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">jobs</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="n">gin</span><span class="p">(</span><span class="n">to_tsvector</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">));</span>
</span></pre></div>
</div>
</section>
<section id="query-patterns">
<h3>Query Patterns<a class="headerlink" href="#query-patterns" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Efficient eager loading</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy.orm</span><span class="w"> </span><span class="kn">import</span> <span class="n">selectinload</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">stmt</span> <span class="o">=</span> <span class="p">(</span>
</span><span data-line="5">    <span class="n">select</span><span class="p">(</span><span class="n">Release</span><span class="p">)</span>
</span><span data-line="6">    <span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">selectinload</span><span class="p">(</span><span class="n">Release</span><span class="o">.</span><span class="n">files</span><span class="p">))</span>
</span><span data-line="7">    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">Release</span><span class="o">.</span><span class="n">is_latest</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span>
</span><span data-line="8"><span class="p">)</span>
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># Pagination with count</span>
</span><span data-line="11"><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">func</span>
</span><span data-line="12">
</span><span data-line="13"><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">Job</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">Job</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;approved&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span data-line="14"><span class="n">count_stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">())</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">Job</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">Job</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;approved&#39;</span><span class="p">)</span>
</span></pre></div>
</div>
<hr class="docutils" />
<p><strong>Document Path</strong>: <code class="docutils literal notranslate"><span class="pre">/Users/coffee/git/public/JacobCoffee/litestar-pydotorg/docs/architecture/DATABASE_SCHEMA.md</span></code></p>
</section>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="ARCHITECTURE.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title">Litestar Python.org Architecture</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="DOMAIN_MODELS.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Domain Models Reference</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2025, Jacob Coffee</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials">
<a href="https://github.com/JacobCoffee/litestar-pydotorg" aria-label="GitHub">
  <iconify-icon icon="simple-icons:github"></iconify-icon>
</a></div>
    </div>
  </div>
</footer>
      <script src="../_static/documentation_options.js?v=01f34227"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=30646c52"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../_static/shibuya.js?v=c1cf1a6b"></script></body>
</html>